@prefix core:  <https://raw.githubusercontent.com/VCityTeam/UD-Graph/master/Ontologies/CityGML/3.0/core#> .
@prefix iso19150-2: <http://def.isotc211.org/iso19150/-2/2012/base#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix vers:  <https://raw.githubusercontent.com/VCityTeam/UD-Graph/master/Ontologies/CityGML/3.0/versioning#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix skos:  <http://www.w3.org/2004/02/skos/core#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .

vers:VersionTransition.adeOfVersionTransition
        a                owl:ObjectProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "adeOfVersionTransition"@en ;
        rdfs:range       vers:ADEOfVersionTransition ;
        skos:definition  "Augments the VersionTransition with properties defined in an ADE."@en .

<https://raw.githubusercontent.com/VCityTeam/UD-Graph/master/Ontologies/CityGML/3.0/versioning>
        a                owl:Ontology ;
        rdfs:label       "Versioning"@en ;
        owl:imports      <https://raw.githubusercontent.com/VCityTeam/UD-Graph/master/Ontologies/CityGML/3.0/core> , <http://def.isotc211.org/iso19150/-2/2012/base> ;
        skos:definition  "The Versioning module supports representation of multiple versions of CityGML features within a single CityGML model. In addition, also the version transitions and transactions that lead to the different versions can be represented."@en .

vers:Transaction  a      owl:Class ;
        rdfs:label       "Transaction"@en ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  core:AbstractFeatureWithLifespan ;
                           owl:onProperty     vers:Transaction.newFeature
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  core:AbstractFeatureWithLifespan ;
                           owl:onProperty     vers:Transaction.oldFeature
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  owl:Class ;
                           owl:onProperty     vers:Transaction.type
                         ] ;
        skos:definition  "Transaction represents a modification of the city model by the creation, termination, or replacement of a specific city object. While the creation of a city object also marks its first object version, the termination marks the end of existence of a real world object and, hence, also terminates the final version of a city object. The replacement of a city object means that a specific version of it is replaced by a new version."@en .

vers:Transaction.oldFeature
        a                owl:ObjectProperty ;
        rdfs:domain      vers:Transaction ;
        rdfs:label       "oldFeature"@en ;
        rdfs:range       core:AbstractFeatureWithLifespan ;
        skos:definition  "Relates to the version of the city object prior to the Transaction."@en .

vers:VersionTransition.from
        a                owl:ObjectProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "from"@en ;
        rdfs:range       vers:Version ;
        skos:definition  "Relates to the predecessor version of the VersionTransition."@en .

vers:VersionTransition.transaction
        a                owl:ObjectProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "transaction"@en ;
        rdfs:range       vers:Transaction ;
        skos:definition  "Relates to all transactions that have been applied as part of the VersionTransition."@en .

vers:VersionTransition.clonePredecessor
        a                owl:DatatypeProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "clonePredecessor"@en ;
        rdfs:range       xsd:boolean ;
        skos:definition  "Indicates whether the set of city object instances belonging to the successor version of the city model is either explicitly enumerated within the successor version object (attribute clonePredecessor=false),  or has to be derived from the modifications of the city model provided as a list of transactions on the city object versions contained in the predecessor version (attribute clonePredecessor=true)."@en .

vers:Version.versionMember
        a                owl:ObjectProperty ;
        rdfs:domain      vers:Version ;
        rdfs:label       "versionMember"@en ;
        rdfs:range       core:AbstractFeatureWithLifespan ;
        skos:definition  "Relates to all city objects that are part of the city model version."@en .

vers:Version  a          owl:Class ;
        rdfs:label       "Version"@en ;
        rdfs:subClassOf  core:AbstractVersion ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  vers:ADEOfVersion ;
                           owl:onProperty     vers:Version.adeOfVersion
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  core:AbstractFeatureWithLifespan ;
                           owl:onProperty     vers:Version.versionMember
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  xsd:string ;
                           owl:onProperty     vers:Version.tag
                         ] ;
        skos:definition  "Version represents a defined state of a city model consisting of the dedicated versions of all city object instances that belong to the respective city model version. Versions can have names, a description and can be labeled with an arbitrary number of user defined tags."@en .

vers:VersionTransition.to
        a                owl:ObjectProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "to"@en ;
        rdfs:range       vers:Version ;
        skos:definition  "Relates to the successor version of the VersionTransition."@en .

vers:Transaction.type
        a                owl:ObjectProperty ;
        rdfs:domain      vers:Transaction ;
        rdfs:label       "type"@en ;
        rdfs:range       owl:Class ;
        skos:definition  "Indicates the specific type of the Transaction."@en .

vers:Transaction.newFeature
        a                owl:ObjectProperty ;
        rdfs:domain      vers:Transaction ;
        rdfs:label       "newFeature"@en ;
        rdfs:range       core:AbstractFeatureWithLifespan ;
        skos:definition  "Relates to the version of the city object subsequent to the Transaction."@en .

vers:Version.adeOfVersion
        a                owl:ObjectProperty ;
        rdfs:domain      vers:Version ;
        rdfs:label       "adeOfVersion"@en ;
        rdfs:range       vers:ADEOfVersion ;
        skos:definition  "Augments the Version with properties defined in an ADE."@en .

vers:ADEOfVersion  a           owl:Class ;
        rdfs:label             "ADEOfVersion"@en ;
        iso19150-2:isAbstract  true ;
        skos:definition        "ADEOfVersion acts as a hook to define properties within an ADE that are to be added to a Version."@en .

vers:VersionTransition
        a                owl:Class ;
        rdfs:label       "VersionTransition"@en ;
        rdfs:subClassOf  core:AbstractVersionTransition ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  owl:Class ;
                           owl:onProperty     vers:VersionTransition.type
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  vers:Transaction ;
                           owl:onProperty     vers:VersionTransition.transaction
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  vers:Version ;
                           owl:onProperty     vers:VersionTransition.from
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  vers:ADEOfVersionTransition ;
                           owl:onProperty     vers:VersionTransition.adeOfVersionTransition
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  vers:Version ;
                           owl:onProperty     vers:VersionTransition.to
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  xsd:boolean ;
                           owl:onProperty     vers:VersionTransition.clonePredecessor
                         ] ;
        rdfs:subClassOf  [ a                  owl:Restriction ;
                           owl:allValuesFrom  xsd:string ;
                           owl:onProperty     vers:VersionTransition.reason
                         ] ;
        skos:definition  "VersionTransition describes the change of the state of a city model from one version to another. Version transitions can have names, a description and can be further qualified by a type and a reason."@en .

vers:VersionTransition.type
        a                owl:ObjectProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "type"@en ;
        rdfs:range       owl:Class ;
        skos:definition  "Indicates the specific type of the VersionTransition."@en .

vers:VersionTransition.reason
        a                owl:DatatypeProperty ;
        rdfs:domain      vers:VersionTransition ;
        rdfs:label       "reason"@en ;
        rdfs:range       xsd:string ;
        skos:definition  "Specifies why the VersionTransition has been carried out."@en .

vers:ADEOfVersionTransition
        a                      owl:Class ;
        rdfs:label             "ADEOfVersionTransition"@en ;
        iso19150-2:isAbstract  true ;
        skos:definition        "ADEOfVersionTransition acts as a hook to define properties within an ADE that are to be added to a VersionTransition."@en .

vers:Version.tag  a      owl:DatatypeProperty ;
        rdfs:domain      vers:Version ;
        rdfs:label       "tag"@en ;
        rdfs:range       xsd:string ;
        skos:definition  "Allows for adding keywords to the city model version."@en .
